!function(t){var e=t(".shopengine-sticky-fly-cart"),i=e.find(".shopengine-sticky-fly-cart--fixed-cart");$fixedCartBackdrop=e.find(".shopengine-sticky-fly-cart--backdrop"),e.on("click",(function(o){let a=t(o.target).closest(i),c=t(o.target).closest($fixedCartBackdrop);(a.length||c.length)&&(e.toggleClass("is--active"),t(this).closest("html").toggleClass("is--offcanvas-open"),n("stickyFlyCartClicked",""))})),t(window).on("resize load stickyFlyCartClicked",(function(){let i=e.find(".shopengine-sticky-fly-cart--container"),n=i.css("padding-right"),o=i.find("ul.woocommerce-mini-cart"),a=i.find(".mini-cart-header"),c=i.find(".woocommerce-mini-cart__total"),s=i.find(".woocommerce-mini-cart__buttons"),d=i.innerWidth()-i.width()+c.innerHeight()+s.innerHeight()+a.innerHeight(),r=Math.round(d+o.innerHeight());t(window).height()<=r?o.css({"overflow-y":"auto","margin-right":`-${n}`,"max-height":`calc( 100vh - ${d}px)`}):o.removeAttr("style")})),"yes"===e.data("fly")&&t(".add_to_cart_button").on("click",(function(){let e=t(this),o=e.closest(".has-post-thumbnail").find("img");e.hasClass("ajax_add_to_cart")&&(o&&o.clone().offset({top:o.offset().top,left:o.offset().left}).css({opacity:"0.8",position:"absolute",height:"150px",width:"150px","z-index":"100"}).appendTo(t("body")).animate({top:i.offset().top,left:i.offset().left,width:"50px",height:"50px"},1e3,(function(){i.addClass("shopengine-shake")})).animate({width:0,height:0},(function(){t(this).detach(),i.removeClass("shopengine-shake"),n("flyingDone","")})))})),t(window).on("added_to_cart removed_from_cart wc_fragments_refreshed",(function(i,n,o){t.get(e.data("cart-total-api"),(function(t,i){e.find(".shopengine-fixed-cart--count").html(t.items_count),e.find(".shopengine-cart-count").html(t.items_html)}))}));var n=function(t,e){let i=new CustomEvent(t,{detail:e});window.dispatchEvent(i)}}(jQuery);