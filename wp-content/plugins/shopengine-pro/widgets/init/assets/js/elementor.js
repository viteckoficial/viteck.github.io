!function(e,t){"use strict";var n={throttle:function(e,t){let n=0;return function(...i){let a=(new Date).getTime();if(a-n<t)return!1;window.intervalID=setTimeout((function(){e(...i)}),t),n=a}},debounce:function(e,t){let n;return function(...i){n&&clearTimeout(n),n=setTimeout((function(){e(...i)}),t)}},isInViewport:function(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},setDefaultFilterData({name:t,classPrefix:n,setArray:i,addClass:a}){const r=new URLSearchParams(window.location.search);if(r.has(t)){r.get(t).split(",").map((t=>{i.add(t);const r=e(`${n}${t}`);a&&a.length&&r.addClass(a),r.prop("checked",!0)}))}}},i={init:function(){var n={"shopengine-single-product-images.default":i.Single_Product_Images,"shopengine-product-filters.default":i.Product_Filters,"shopengine-product-size-charts.default":i.Product_Size_Charts};e.each(n,(function(e,n){t.hooks.addAction("frontend/element_ready/"+e,n)}))},Single_Product_Images:function(t){setTimeout((function(){if(t.find(".flex-control-thumbs").length){function n(e){let n=e.el?e.el:t.find(".flex-active"),i=t.find(".flex-control-thumbs"),a=t.find(".flex-viewport"),r="bottom"==e.type?"left":"top",o="bottom"==e.type?n.outerWidth():n.outerHeight(),s="bottom"==e.type?a.outerWidth():a.outerHeight(),l="bottom"==e.type?"translateX":"translateY",f=n.offset()[r]+o-i.offset()[r];if(s<=f){let e=f-s;i.css("transform",l+"(-"+Math.abs(e)+"px)")}else i.css("transform",l+"(0px)")}e(window).width()<=980&&t.removeClass("shopengine_image_gallery_position_left").removeClass("shopengine_image_gallery_position_right").addClass("shopengine_image_gallery_position_bottom"),t.find(".flex-direction-nav, .flex-control-thumbs").wrapAll('<div class="shopengine-gallery-wrapper"></div>'),t.find(".flex-direction-nav a").on("click change input",(function(i,a){t.hasClass("shopengine_image_gallery_position_bottom")?n({type:"bottom",el:a?e(a):""}):n({type:"left-right",el:a?e(a):""})})),t.find(".flex-control-thumbs li").on("click",(function(){t.find(".flex-direction-nav a.flex-next").trigger("click",e(this))}))}else t.find(".flex-control-thumbs").length||(t.find(".shopengine-product-image-toggle").css("margin",0),t.find(".position-top-left").css("margin-left",0))}),0)},Product_Filters:function(t){var i=t.find(".shopengine-product-filters-wrapper"),a=i.data("filter-price"),r=i.data("filter-rating"),o=i.data("filter-color"),s=i.data("filter-category"),l=i.data("filter-attribute"),f=i.data("filter-label"),g=i.data("filter-image"),c=i.data("filter-shipping"),d=i.data("filter-stock"),p=i.data("filter-onsale"),h=i.data("filter-view-mode"),u=t.find(".shopengine-filter-price"),m=t.find(".shopengine-filter-price-slider"),_=t.find(".shopengine-filter-price-reset"),v=t.find(".shopengine-filter-price-result"),y=i.find('input[name="min_price"]'),b=i.find('input[name="max_price"]'),w=v.data("sign"),x=u.data("default-range");let k=t.find(".shopengine-filter-rating__labels"),C=new Set,I=new Set,A=t.find(".shopengine-filter-group-toggle"),D=t.find(".shopengine-filter-group-content-wrapper"),P=t.find(".shopengine-filter-group-content-underlay"),S=t.find(".shopengine-filter-group-content-close");if(A.add(S).add(P).on("click",(function(){A.toggleClass("active"),D.toggleClass("isactive")})),e(document).on("click",(e=>{if(D.hasClass("isactive")){e.target.closest(".shopengine-filter-group-content-wrapper, .shopengine-filter-group-toggle")||(A.toggleClass("active"),D.toggleClass("isactive"))}})),"collapse"===h){t.find(".shopengine-collapse .shopengine-product-filter-title").on("click",(e=>{e.preventDefault(),e.stopPropagation();const t=e.target.closest(".shopengine-filter");t.classList.toggle("open"),t.nextElementSibling.classList.toggle("open")}))}const R=({form:e,filterInput:t,formInput:i})=>{let a={};t.map(((e,t)=>{a[t.name]||(a[t.name]=new Set);const i={name:t.name,classPrefix:`.${t.name}-`,setArray:a[t.name]};n.setDefaultFilterData(i)})),t.on("change",(function(t){const n=t.target.value,r=t.target.name;console.log(r,n),a[r]||(a[r]=new Set),a[r].has(n)?a[r]["delete"](n):a[r].add(n),i.attr("name",r),i.attr("value",Array.from(a[r])),e.trigger("submit")}))};if("yes"===a){let n=t.find(".shopengine-filter-price"),i=!1;m.asRange("val",[10,300]);const a=new URLSearchParams(window.location.search);let r=n.data("exchange-rate");a.has("min_price")&&a.has("max_price")&&(i=0!==r?[a.get("min_price")*r,a.get("max_price")*r]:[a.get("min_price"),a.get("max_price")],v.text(w+i[0]+" - "+w+i[1])),m.asRange({range:!0,min:0,max:x[1],step:1,tip:!1,scale:!1,replaceFirst:0,value:i||x}).on("asRange::change",(function(e,t,n){v.text(w+n[0]+" - "+w+n[1])})).on("asRange::moveEnd",(function(){var t=e(this).data("asRange").value;if(0!==r)var i=t[0]/r,a=t[1]/r;else i=t[0],a=t[1];y.val(i),b.val(a),n.trigger("submit")})),_.on("click",(function(){m.asRange("val",x),n.trigger("reset").trigger("submit")}))}if("yes"===r){const e={name:"rating_filter",classPrefix:".shopengine-rating-name-",setArray:C,addClass:"checked"};n.setDefaultFilterData(e);let i=t.find(".shopengine-filter.shopengine-filter-rating");k.on("click",(function(e){e.preventDefault();let n=e.target.closest(".rating-label-triger");if(n){let e=n.dataset.rating,a=n.dataset.target,r=t.find(n),o=t.find(`#${a}`);C.has(e)?C["delete"](e):C.add(e),r.hasClass("checked")?r.removeClass("checked"):r.addClass("checked"),o.attr("value",Array.from(C)),i.trigger("submit")}}))}if("yes"===o){R({form:t.find("#shopengine_color_form"),filterInput:t.find(".shopengine-filter-colors"),formInput:t.find(".shopengine-filter-colors-value")})}if("yes"===s){let i=t.find("#shopengine_category_form"),a=t.find(".shopengine-filter-categories"),r=t.find("#shopengine_filter_category"),o=t.find(".shopengine-filter-category-toggle");const s={name:"shopengine_filter_category",classPrefix:".shopengine-category-name-",setArray:I};n.setDefaultFilterData(s),o.on("click",(function(){let t=e(this).data("target"),n=e(this).attr("aria-expanded"),i=e(this).parent().parent();"true"===n?(i.removeClass("isActive"),e(t).slideUp(),e(this).attr("aria-expanded","false")):(i.addClass("isActive"),e(t).slideDown(),e(this).attr("aria-expanded","true"))})),a.on("click",(function(n){let a=n.target.value;I.has(a)?I["delete"](a):I.add(a),r.attr("value",Array.from(I));let o=e(this).parent(),s=o.find(".shopengine-filter-category-toggle");o.parent().hasClass("isActive")||e(this).hasClass("shopengine-filter-subcategory")||t.find(".shopengine-filter-category-has-child.isActive").find(".shopengine-filter-category-toggle").trigger("click"),o.parent().hasClass("shopengine-filter-category-has-child")&&"true"!==s.attr("aria-expanded")&&s.trigger("click"),i.trigger("submit")}))}if("yes"===l){R({form:t.find("#shopengine_attribute_form"),filterInput:t.find(".shopengine-filter-attribute"),formInput:t.find(".shopengine-filter-attribute-value")})}if("yes"===f){R({form:t.find("#shopengine_label_form"),filterInput:t.find(".shopengine-filter-label"),formInput:t.find(".shopengine-filter-label-value")})}if("yes"===g){R({form:t.find("#shopengine_image_form"),filterInput:t.find(".shopengine-filter-image"),formInput:t.find(".shopengine-filter-image-value")})}if("yes"===c){R({form:t.find("#shopengine_shipping_form"),filterInput:t.find(".shopengine-filter-shipping"),formInput:t.find(".shopengine-filter-shipping-value")})}if("yes"===d){R({form:t.find("#shopengine_stock_form"),filterInput:t.find(".shopengine-filter-stock"),formInput:t.find(".shopengine-filter-stock-value")})}if("yes"===p){R({form:t.find("#shopengine_onsale_form"),filterInput:t.find(".shopengine-filter-onsale"),formInput:t.find(".shopengine-filter-onsale-value")})}},Product_Size_Charts:function(t){let n=t.find(".shopengine-product-size-chart-button"),i=t.find(".shopengine-product-size-chart");n.on("click",(function(){i.css({display:"flex"})})),i.on("click",(function(){"yes"===e(this).data("model")&&i.css({display:"none"})}))}};e(window).on("elementor/frontend/init",i.init)}(jQuery,window.elementorFrontend);